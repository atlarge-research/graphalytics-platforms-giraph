diff --git a/giraph-core/pom.xml b/giraph-core/pom.xml
index 85b9377..eb00125 100644
--- a/giraph-core/pom.xml
+++ b/giraph-core/pom.xml
@@ -333,6 +333,18 @@ under the License.
       </build>
     </profile>
 
+    <profile>
+      <id>hadoop_yarn_2.5</id>
+      <build>
+        <plugins>
+          <plugin>
+              <groupId>org.sonatype.plugins</groupId>
+              <artifactId>munge-maven-plugin</artifactId>
+          </plugin>
+        </plugins>
+      </build>
+    </profile>
+
     <!-- Unmunged profiles are below. -->
     <profile>
       <id>hadoop_2</id>
diff --git a/giraph-core/src/main/java/org/apache/giraph/aggregators/TextAggregatorWriter.java b/giraph-core/src/main/java/org/apache/giraph/aggregators/TextAggregatorWriter.java
index 67ce5a4..a2b90bd 100644
--- a/giraph-core/src/main/java/org/apache/giraph/aggregators/TextAggregatorWriter.java
+++ b/giraph-core/src/main/java/org/apache/giraph/aggregators/TextAggregatorWriter.java
@@ -114,7 +114,7 @@ public class TextAggregatorWriter
    */
   private boolean shouldWrite(long superstep) {
     return (frequency == AT_THE_END && superstep == LAST_SUPERSTEP) ||
-        (frequency != NEVER && superstep % frequency == 0);
+        (frequency > 0 && superstep % frequency == 0);
   }
 
   @Override
diff --git a/giraph-core/src/main/java/org/apache/giraph/bsp/BspInputFormat.java b/giraph-core/src/main/java/org/apache/giraph/bsp/BspInputFormat.java
index 8f88c80..9cbfb63 100644
--- a/giraph-core/src/main/java/org/apache/giraph/bsp/BspInputFormat.java
+++ b/giraph-core/src/main/java/org/apache/giraph/bsp/BspInputFormat.java
@@ -57,7 +57,10 @@ public class BspInputFormat extends InputFormat<Text, Text> {
     if (splitMasterWorker && !isYarnJob) {
       int zkServers = GiraphConstants.ZOOKEEPER_SERVER_COUNT.get(conf);
       maxTasks += zkServers;
+    } else if (isYarnJob) {
+      maxTasks++;
     }
+
     if (LOG.isDebugEnabled()) {
       LOG.debug("getMaxTasks: Max workers = " + maxWorkers +
           ", split master/worker = " + splitMasterWorker +
diff --git a/giraph-core/src/main/java/org/apache/giraph/yarn/GiraphApplicationMaster.java b/giraph-core/src/main/java/org/apache/giraph/yarn/GiraphApplicationMaster.java
index 72978bf..78d5f8c 100644
--- a/giraph-core/src/main/java/org/apache/giraph/yarn/GiraphApplicationMaster.java
+++ b/giraph-core/src/main/java/org/apache/giraph/yarn/GiraphApplicationMaster.java
@@ -528,9 +528,10 @@ public class GiraphApplicationMaster {
      * @return the BASH shell commands to launch the job.
      */
     private List<String> generateShellExecCommand() {
+      int heapPerContainerAdjusted = heapPerContainer - 512;
       return ImmutableList.of("java " +
-        "-Xmx" + heapPerContainer + "M " +
-        "-Xms" + heapPerContainer + "M " +
+        "-Xmx" + heapPerContainerAdjusted + "M " +
+        "-Xms" + heapPerContainerAdjusted + "M " +
         "-cp .:${CLASSPATH} " +
         "org.apache.giraph.yarn.GiraphYarnTask " +
         appAttemptId.getApplicationId().getClusterTimestamp() + " " +
diff --git a/giraph-examples/pom.xml b/giraph-examples/pom.xml
index a2f2ef5..16d2549 100644
--- a/giraph-examples/pom.xml
+++ b/giraph-examples/pom.xml
@@ -270,6 +270,18 @@ under the License.
       </build>
     </profile>
 
+    <profile>
+      <id>hadoop_yarn_2.5</id>
+      <build>
+        <plugins>
+          <plugin>
+              <groupId>org.sonatype.plugins</groupId>
+              <artifactId>munge-maven-plugin</artifactId>
+          </plugin>
+        </plugins>
+      </build>
+    </profile>
+
     <!-- The profiles below do not (yet) include any munge flags -->
     <profile>
       <id>hadoop_2</id>
diff --git a/pom.xml b/pom.xml
index 2ef804a..84599b3 100644
--- a/pom.xml
+++ b/pom.xml
@@ -1244,6 +1244,62 @@ under the License.
     </profile>
 
     <profile>
+      <id>hadoop_yarn_2.5</id>
+      <modules>
+        <module>giraph-dist</module>
+      </modules>
+      <properties>
+        <hadoop.version>SET_HADOOP_VERSION_USING_MVN_DASH_D_OPTION</hadoop.version>
+        <munge.symbols>PURE_YARN</munge.symbols>
+        <!-- TODO: add these checks eventually -->
+        <project.enforcer.skip>true</project.enforcer.skip>
+        <giraph.maven.dependency.plugin.skip>true</giraph.maven.dependency.plugin.skip>
+        <giraph.maven.duplicate.finder.skip>true</giraph.maven.duplicate.finder.skip>
+      </properties>
+      <dependencies>
+        <!-- sorted lexicographically -->
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-common</artifactId>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-mapreduce-client-common</artifactId>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-mapreduce-client-core</artifactId>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-yarn-common</artifactId>
+          <version>${hadoop.version}</version>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-yarn-server-common</artifactId>
+          <version>${hadoop.version}</version>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-yarn-server-resourcemanager</artifactId>
+          <version>${hadoop.version}</version>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-yarn-server-nodemanager</artifactId>
+          <version>${hadoop.version}</version>
+        </dependency>
+        <dependency>
+          <groupId>org.apache.hadoop</groupId>
+          <artifactId>hadoop-yarn-server-tests</artifactId>
+          <version>${hadoop.version}</version>
+          <type>test-jar</type>
+        </dependency>
+      </dependencies>
+    </profile>
+
+    <profile>
        <id>2.1.1-SNAPSHOT</id>
        <modules>
          <module>giraph-dist</module>
